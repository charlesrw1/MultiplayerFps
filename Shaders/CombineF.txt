
out vec3 FS_OUT_Color;
in vec2 texCoord;

layout(binding = 0) uniform sampler2D scene_lit;
layout(binding = 1) uniform sampler2D bloom;
layout(binding = 2) uniform sampler2D lens_dirt;

void main()
{
	vec3 scene = texture(scene_lit, texCoord).rgb;
	vec3 bloom_add = texture(bloom, texCoord).rgb;
	vec3 dirt = texture(lens_dirt, texCoord).rgb;
	
	vec3 both = mix(scene,bloom_add+scene,0.05);
	vec3 srgb = pow(both,vec3(1/2.2));
	FS_OUT_Color = srgb;
}