#version 330 core

out vec4 FS_OUT_Color;

in vec4 FS_IN_Color;
in vec2 FS_IN_TexCoord;

#ifdef TEXTURE3D
uniform sampler3D basecolor;
uniform float slice;
#else
uniform sampler2D basecolor;
#endif

uniform vec4 tint;

void main()
{
#ifdef TEXTURE3D
	vec4 color = texture(basecolor, vec3(FS_IN_TexCoord, slice));
	FS_OUT_Color = color;
#else
	vec4 color = texture(basecolor,FS_IN_TexCoord);
#ifdef PARTICLE_SHADER
	//if(color.r < 0.2)
	//	discard;
	
	FS_OUT_Color = vec4(FS_IN_Color.rgb, FS_IN_Color.a*color.r);
#else
	FS_OUT_Color = color*FS_IN_Color;
#endif
#endif	// TEXTURE3D
}
	
